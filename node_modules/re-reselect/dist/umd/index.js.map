{"version":3,"file":"index.js","sources":["../../src/cache/util/isStringOrNumber.js","../../src/cache/FlatObjectCache.js","../../src/createCachedSelector.js","../../src/createStructuredCachedSelector.js","../../src/cache/util/validateCacheSize.js","../../src/cache/FifoObjectCache.js","../../src/cache/LruObjectCache.js","../../src/cache/FlatMapCache.js","../../src/cache/FifoMapCache.js","../../src/cache/LruMapCache.js"],"sourcesContent":["function isStringOrNumber(value) {\n  return typeof value === 'string' || typeof value === 'number';\n}\n\nexport default isStringOrNumber;\n","import isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FlatObjectCache {\n  constructor() {\n    this._cache = {};\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import {createSelector} from 'reselect';\nimport FlatObjectCache from './cache/FlatObjectCache';\n\nconst defaultCacheCreator = FlatObjectCache;\nconst defaultCacheKeyValidator = () => true;\n\nfunction parseReselectArgs(reselectArgs) {\n  const args = [...reselectArgs];\n  const lastArgument = args[args.length - 1];\n  let resultFunc;\n  let createSelectorOptions = undefined;\n\n  // Last argument is resultFunc\n  if (typeof lastArgument === 'function') {\n    resultFunc = args.pop();\n  } else {\n    // Last argument is createSelectorOptions object\n    createSelectorOptions = args.pop();\n    resultFunc = args.pop();\n  }\n\n  return {\n    inputSelectors: Array.isArray(args[0]) ? args[0] : [...args],\n    resultFunc,\n    createSelectorOptions,\n  };\n}\n\nfunction createCachedSelector(...reselectArgs) {\n  const {inputSelectors, resultFunc, createSelectorOptions} =\n    parseReselectArgs(reselectArgs);\n\n  return polymorphicOptions => {\n    const options =\n      typeof polymorphicOptions === 'function'\n        ? {keySelector: polymorphicOptions}\n        : Object.assign({}, polymorphicOptions);\n\n    // https://github.com/reduxjs/reselect/blob/v4.0.0/src/index.js#L54\n    let recomputations = 0;\n    const resultFuncWithRecomputations = (...args) => {\n      recomputations++;\n      return resultFunc(...args);\n    };\n\n    // Patch reselect call arguments with a custom resultFunc\n    const patchedReselectArgs = [inputSelectors, resultFuncWithRecomputations];\n    if (createSelectorOptions) {\n      patchedReselectArgs.push(createSelectorOptions);\n    }\n\n    const cache = options.cacheObject || new defaultCacheCreator();\n    const selectorCreator = options.selectorCreator || createSelector;\n    const isValidCacheKey = cache.isValidCacheKey || defaultCacheKeyValidator;\n\n    if (options.keySelectorCreator) {\n      options.keySelector = options.keySelectorCreator({\n        keySelector: options.keySelector,\n        inputSelectors,\n        resultFunc,\n      });\n    }\n\n    // User receives this function\n    const selector = function (...args) {\n      const cacheKey = options.keySelector(...args);\n\n      if (isValidCacheKey(cacheKey)) {\n        let cacheResponse = cache.get(cacheKey);\n\n        if (cacheResponse === undefined) {\n          cacheResponse = selectorCreator(...patchedReselectArgs);\n          cache.set(cacheKey, cacheResponse);\n        }\n\n        return cacheResponse(...args);\n      }\n      console.warn(\n        `[re-reselect] Invalid cache key \"${cacheKey}\" has been returned by keySelector function.`\n      );\n      return undefined;\n    };\n\n    // Further selector methods\n    selector.getMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      // @NOTE It might update cache hit count in LRU-like caches\n      return cache.get(cacheKey);\n    };\n\n    selector.removeMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      cache.remove(cacheKey);\n    };\n\n    selector.clearCache = () => {\n      cache.clear();\n    };\n\n    selector.resultFunc = resultFunc;\n\n    selector.dependencies = inputSelectors;\n\n    selector.cache = cache;\n\n    selector.recomputations = () => recomputations;\n\n    selector.resetRecomputations = () => (recomputations = 0);\n\n    selector.keySelector = options.keySelector;\n\n    return selector;\n  };\n}\n\nexport default createCachedSelector;\n","import {createStructuredSelector} from 'reselect';\nimport createCachedSelector from './createCachedSelector';\n\nfunction createStructuredCachedSelector(selectors) {\n  return createStructuredSelector(selectors, createCachedSelector);\n}\n\nexport default createStructuredCachedSelector;\n","function validateCacheSize(cacheSize) {\n  if (cacheSize === undefined) {\n    throw new Error('Missing the required property \"cacheSize\".');\n  }\n  if (!Number.isInteger(cacheSize) || cacheSize <= 0) {\n    throw new Error(\n      'The \"cacheSize\" property must be a positive integer value.'\n    );\n  }\n}\n\nexport default validateCacheSize;\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FifoObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._cacheOrdering.push(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    const index = this._cacheOrdering.indexOf(key);\n\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class LruObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._registerCacheHit(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    this._registerCacheHit(key);\n    return this._cache[key];\n  }\n  remove(key) {\n    this._deleteCacheHit(key);\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  _registerCacheHit(key) {\n    this._deleteCacheHit(key);\n    this._cacheOrdering.push(key);\n  }\n  _deleteCacheHit(key) {\n    const index = this._cacheOrdering.indexOf(key);\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","export default class FlatMapCache {\n  constructor() {\n    this._cache = new Map();\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class FifoMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class LruMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    const value = this._cache.get(key);\n\n    // Register cache hit\n    if (this._cache.has(key)) {\n      this.remove(key);\n      this._cache.set(key, value);\n    }\n    return value;\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n"],"names":["isStringOrNumber","value","FlatObjectCache","_cache","_proto","prototype","set","key","selectorFn","get","remove","clear","isValidCacheKey","cacheKey","defaultCacheCreator","defaultCacheKeyValidator","parseReselectArgs","reselectArgs","args","concat","lastArgument","length","resultFunc","createSelectorOptions","undefined","pop","inputSelectors","Array","isArray","createCachedSelector","_len","arguments","_key","_parseReselectArgs","polymorphicOptions","options","keySelector","Object","assign","recomputations","resultFuncWithRecomputations","apply","patchedReselectArgs","push","cache","cacheObject","selectorCreator","createSelector","keySelectorCreator","selector","cacheResponse","console","warn","getMatchingSelector","removeMatchingSelector","clearCache","dependencies","resetRecomputations","createStructuredCachedSelector","selectors","createStructuredSelector","validateCacheSize","cacheSize","Error","Number","isInteger","FifoObjectCache","_temp","_ref","_cacheOrdering","_cacheSize","earliest","index","indexOf","splice","LruObjectCache","_registerCacheHit","_deleteCacheHit","FlatMapCache","Map","FifoMapCache","size","keys","next","LruMapCache","has"],"mappings":"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"}